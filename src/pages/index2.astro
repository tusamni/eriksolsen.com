---
// components
import { Image } from "@astrojs/image/components"
import Button from "@/components/Button"
import Container from "@/components/Container"
import Footer from "@/components/Footer"
import Link from "@/components/Link"
import RecentPost from "@/components/RecentPost"
import RecentShoot from "@/components/RecentShoot"
import NavigationBar from "@/components/navigation/NavigationBar"

// data
import Navigation from "@/data/navigation"

// functions
import { getMetadata } from "@/functions/Media"

// images
import Logo from "public/images/logos/logo-white.png"
import Header from "@/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_017.jpeg"

// get recent posts
const allPosts = await Astro.glob("./blog/*.md")
const filteredPosts = allPosts.sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf()).slice(0, 3);

// get recent posts
const allShoots = await Astro.glob("./photography/*.mdx")
const filteredShoots = allShoots.sort(function (a, b) {
    return (
        new Date(b.date).valueOf() - new Date(a.date).valueOf()
    );
}).slice(0, 5);
---

<!DOCTYPE html>
<html lang="en">

<head>
    <style lang="scss">
        @font-face {
            font-family: 'Manrope';
            font-display: swap;
            font-weight: 100 900;
            src: url("/fonts/Manrope[wght].woff2") format("woff2");
        }

        html {
            font-family: "Manrope", sans-serif;
        }
    </style>
</head>

<body>
    <div class="sticky top-0 z-10">
        <NavigationBar />

        <div class="bg-rose-500 py-8">
            <Container>
                <div class="flex justify-between items-center">
                    <div class="text-white font-medium text-6xl tracking-wider logo">
                        <a href="/" title="Erik S. Olsen">
                            <Image src={Logo} width={180} />
                        </a>
                    </div>

                    <nav class="font-medium flex gap-16 tracking-tightest">
                        {Navigation.map(l =>
                        <a href={l.url} title={l.display} class="text-white">{l.display}</a>
                        )}
                    </nav>
                </div>
            </Container>
        </div>
    </div>

    <div class="mt-24 space-y-40">
        <Container>
            <Image src={Header} height={700} class="h-full w-full object-cover rounded-sm shadow-2xl" />
            <div class="flex justify-between mt-4">
                <p>This is an image</p>
                <p>Date</p>
            </div>
        </Container>

        <Container classes="space-y-28">
            <div class="flex justify-between">
                <h2 class="font-black text-5xl tracking-tight w-1/3">It's different working with me.</h2>

                <div class="text-xl font-light leading-relaxed tracking-wide w-2/4 space-y-8">
                    <p>Lately, I've been shooting lots of cars for Bring a Trailer auctions. If you're in the Austin area and are interested in having your car photographed for an online auction site, let's chat!</p>
                    <p>Lately, I've been shooting lots of cars for Bring a Trailer auctions. If you're in the Austin area and are interested in having your car photographed for an online auction site, let's chat!</p>

                    <div class="flex gap-10">
                        <Link text="Hire Me!" url="/contact" />
                        <Link text="See More Photos" url="/photography" />
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-x-20 gap-y-32">
                {filteredShoots.slice(1, 5).map(p =>
                <RecentShoot shoot={p} />
                )}
            </div>
        </Container>

        <div class="bg-neutral-100 py-40">
            <Container classes="space-y-16">
                <h2 class="font-black text-5xl tracking-tight w-1/3">Recent Posts</h2>

                <div class="flex gap-20">
                    {filteredPosts.map(p =>
                    <RecentPost post={p} />
                    )}
                </div>
            </Container>
        </div>
    </div>

    <Footer recentPosts={filteredPosts} recentShoots={filteredShoots} />
</body>

</html>