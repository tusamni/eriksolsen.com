---
// layout
import Layout from "@/layouts/BaseLayout";

// components
import Container from "@/components/content/Container";
import Image from "@/components/image/Image";
import Gallery from "@/components/image/Gallery";
import Heading from "@/components/content/Heading";
import ShootPrimary from "@/components/shoots/cards/Primary";
import ShootSecondary from "@/components/shoots/cards/Secondary";
import PostSecondary from "@/components/blog/cards/Secondary";
import Split from "@/components/content/Split";

// content
import { getCollection } from "astro:content";
const posts = (await getCollection("blogs")).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf()).slice(0, 4);
const shoots = (
    await getCollection("shoots", ({ data }) => {
        return data.featured == true;
    })
)
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 4);
---

<Layout>
    <Container>
        <Heading>
            <h1 slot="heading">I'm a professional car photographer in Austin.</h1>
            <p slot="description">
                With online car auctions rising in popularity, I've helped clients put their best foot forward with beautiful car photography. Whether it's <i>Bring a Trailer</i>, <i>Cars & Bids</i>, <i>Hagerty</i> or <i>eBay</i>, I can help get top dollar for your vehicle auction.
            </p>

            <div class="flex gap-4">
                <a href="/contact" class="button button-primary text-xl">Hire Me!</a>
                <a href="/photography/shoots" class="button button-ghost text-xl">See More Photos</a>
            </div>
        </Heading>
    </Container>

    <Container large={true}>
        <Gallery>
            <div class="grid grid-cols-6 h-[100vh] lg:h-[90em] gap-8">
                <Image src="shoots/2020/2020-02-28-lit-show-day-two/lit-show-2020_048" figureClass="col-span-6 lg:col-span-2" class="w-full h-full object-cover" loading="eager" sizes="(min-width: 1280px) 33vw, 100vw" />
                <Image src="shoots/2022/2022-02-27-lit-show-day-four/lit-show-2022_039" figureClass="col-span-6 lg:col-span-2" class="w-full h-full object-cover" loading="eager" sizes="(min-width: 1280px) 33vw, 100vw" />
                <Image src="shoots/2020/2020-02-29-lit-show-day-three/lit-show-2020_012" figureClass="col-span-6 lg:col-span-2" class="w-full h-full object-cover" loading="eager" sizes="(min-width: 1280px) 33vw, 100vw" />
                <Image src="shoots/2017/2017-11-03-cota-classic/cota-classic-2017_004" figureClass="col-span-6 lg:col-span-6" class="w-full h-full object-cover" sizes="100vw" />
            </div>
        </Gallery>
    </Container>

    <Container>
        <Split>
            <h2 slot="heading">Recent Posts</h2>

            <div class="space-y-12">
                {posts.map((p, i) => <PostSecondary post={p} />)}

                <a href="/blog" class="button button-ghost w-fit text-lg">View all posts</a>
            </div>
        </Split>
    </Container>

    <Container padBottom={true}>
        <Split>
            <h2 slot="heading">Recent Shoots</h2>

            <div class="space-y-12">
                <div class="grid grid-cols-2 gap-8">
                    {shoots.map((s, i) => <ShootPrimary shoot={s} />)}
                </div>

                <a href="/photography/shoots" class="button button-ghost w-fit text-lg">View all shoots</a>
            </div>
        </Split>
    </Container>
</Layout>
