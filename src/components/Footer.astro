---
// components
import Button from "@/components/Button";
import Container from "@/components/Container";

// data
import Navigation from "@/data/Navigation";

const unsortedPosts = await Astro.glob("../pages/blog/*.mdx");
const posts = unsortedPosts
    .sort(function (a, b) {
        return new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf();
    })
    .slice(0, 4);

const unsortedShoots = await Astro.glob("../pages/photography/*.mdx");
const shoots = unsortedShoots
    .sort(function (a, b) {
        return new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf();
    })
    .slice(0, 4);
---

<div class="bg-black py-20 xl:py-40">
    <Container classes="space-y-28">
        <div class="grid grid-cols-1 sm:grid-cols-2 justify-between items-center gap-8">
            <h1 class="font-black text-7xl text-white tracking-tighter">
                Turn your brand<br />
                into a great one.
            </h1>

            <div class="sm:justify-self-end">
                <Button theme="light" url="/contact" text="Contact Me!" />
            </div>
        </div>

        <div class="flex justify-between">
            <div class="flex flex-col text-white font-black text-2xl gap-6">
                {
                    Navigation.slice(0, 3).map((l) => (
                        <a href={l.url} title={l.display}>
                            {l.display}
                        </a>
                    ))
                }
            </div>

            <div class="flex flex-col md:flex-row gap-12">
                <div class="flex flex-col text-white text-lg gap-4 w-60">
                    <p class="font-semibold text-xl">Recent Shoots</p>
                    <div class="flex flex-col gap-2">
                        {
                            shoots.map((p) => (
                                <a href={p.url} class="truncate" title={p.frontmatter.title}>
                                    {p.frontmatter.title}
                                </a>
                            ))
                        }
                    </div>
                </div>

                <div class="flex flex-col text-white text-lg gap-4 w-60">
                    <p class="font-semibold text-xl">Recent Posts</p>
                    <div class="flex flex-col gap-2">
                        {
                            posts.map((p) => (
                                <a href={p.frontmatter.url} class="truncate" title={p.frontmatter.title}>
                                    {p.frontmatter.title}
                                </a>
                            ))
                        }
                    </div>
                </div>
            </div>
        </div>
    </Container>
</div>
