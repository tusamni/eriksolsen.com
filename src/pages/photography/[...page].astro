---
// layout
import SimpleLayout from "@/layouts/SimpleLayout";

// components
import Shoot from "@/components/card/Shoot";

// config
import { photoSize } from "@/src/config";

export async function getStaticPaths({ paginate }) {
    const unsortedShoots = await Astro.glob("./*.mdx");
    const shoots = unsortedShoots.sort(function (a, b) {
        return new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf();
    });

    return paginate(shoots, { pageSize: photoSize });
}

const { page } = Astro.props;
---

<SimpleLayout
    title="Car Photography in Austin, TX"
    description="During the summer months you'll catch me shootin photos at Cars and Coffee at COTA or Coffee With Cars in Dripping Springs. I also do freelance photography for Bring a Trailer auctions."
>
    <h1 slot="heading">I shoot professional car photography in Austin.</h1>
    <p slot="intro" class="mt-6 text-base text-zinc-600 dark:text-zinc-400">
        With online car auctions rising in popularity, I've helped clients put their best foot forward with beautiful car photography. Whether it's <i
            >Bring a Trailer</i
        >, <i>Cars & Bids</i>, <i>Hagerty</i> or <i>eBay</i>, I can help get top dollar for your vehicle auction.
    </p>

    <div class="grid grid-cols-1 gap-16 lg:grid-cols-4 lg:grid-rows-[auto_1fr] lg:gap-12">
        <div>
            <div class="text-base font-semibold text-zinc-900 dark:text-zinc-100">Filters</div>
            <form class="mt-4 space-y-4 text-sm">
                <fieldset class="border border-zinc-100 py-2 px-4 text-xs dark:border-zinc-700/40">
                    <legend>Shoot Type</legend>
                    <div class="space-y-1">
                        <div class="flex items-center gap-1 border-zinc-700">
                            <input
                                type="checkbox"
                                class="h-4 w-4 rounded border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"
                            />Auction<br />
                        </div>
                        <div class="flex items-center gap-1 border-zinc-700">
                            <input
                                type="checkbox"
                                class="h-4 w-4 rounded border-gray-300 bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"
                            />Just For Fun<br />
                        </div>
                        <div class="flex items-center gap-1 border-zinc-700">
                            <input
                                type="checkbox"
                                class="h-4 w-4 rounded border-gray-300 bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"
                            />Car Show<br />
                        </div>
                    </div>
                </fieldset>

                <fieldset class="border border-zinc-100 py-2 px-4 text-xs dark:border-zinc-700/40">
                    <legend>Shoot Type</legend>
                    <div class="space-y-1">
                        <div class="flex items-center gap-1 border-zinc-700">
                            <input
                                type="checkbox"
                                class="h-4 w-4 rounded border-gray-300 bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"
                            />Auction<br />
                        </div>
                        <div class="flex items-center gap-1 border-zinc-700">
                            <input
                                type="checkbox"
                                class="h-4 w-4 rounded border-gray-300 bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"
                            />Just For Fun<br />
                        </div>
                        <div class="flex items-center gap-1 border-zinc-700">
                            <input
                                type="checkbox"
                                class="h-4 w-4 rounded border-gray-300 bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"
                            />Car Show<br />
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>

        <div class="col-span-3 flex max-w-3xl flex-col space-y-16">
            {
                page.data.map((s) => (
                    <article class="grid auto-rows-fr grid-cols-4 gap-6">
                        <Shoot shoot={s} />
                    </article>
                ))
            }
        </div>
    </div>
</SimpleLayout>
