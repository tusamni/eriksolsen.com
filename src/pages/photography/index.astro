---
// layout
import Layout from "@/layouts/BaseLayout";

// components
import Container from "@/components/content/Container";
import Figure from "@/components/image/Image";
import Gallery from "@/components/image/Gallery";
import Heading from "@/components/content/Heading";
import Split from "@/components/content/Split";

// content
import { getCollection } from "astro:content";
const featured = (
    await getCollection("shoots", ({ data }) => {
        return data.featured == true;
    })
)
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 1);

// data
import { Faq, Testimonials } from "@/data/Photography";
---

<Layout
    title="Car Photography in Austin, TX"
    description="During the summer months you'll catch me shootin photos at Cars and Coffee at COTA or Coffee With Cars in Dripping Springs. I also do freelance photography for Bring a Trailer auctions.">
    <Container>
        <Heading>
            <h1 slot="heading">
                I shoot professional car photography in Austin.
            </h1>
            <p slot="description">
                With online car auctions rising in popularity, I've helped
                clients put their best foot forward with beautiful car
                photography. Whether it's <i>Bring a Trailer</i>, <i>
                    Cars & Bids
                </i>, <i>Hagerty</i> or <i>eBay</i>, I can help get top dollar
                for your vehicle auction.
            </p>
        </Heading>
    </Container>

    <Gallery>
        <div class="h-[80vh] grid grid-cols-4">
            <Figure
                src="shoots/2022/2022-02-27-lit-show-day-four/lit-show-2022_049"
                figureClass="col-span-4"
                class="w-full h-full object-cover"
                loading="eager"
                sizes="100vw"
            />
            <Figure
                src="shoots/2019/2019-05-26-coffee-with-cars/coffee-with-cars-2019_002"
                class="w-full h-full object-cover"
                loading="eager"
                sizes="25vw"
            />
            <Figure
                src="shoots/2019/2019-05-26-coffee-with-cars/coffee-with-cars-2019_016"
                class="w-full h-full object-cover"
                loading="eager"
                sizes="25vw"
            />
            <Figure
                src="shoots/2020/2020-01-26-coffee-with-cars/coffee-with-cars-2020_004"
                class="w-full h-full object-cover"
                loading="eager"
                sizes="25vw"
            />
            <Figure
                src="shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_072"
                class="w-full h-full object-cover"
                loading="eager"
                sizes="25vw"
            />
        </div>
    </Gallery>

    <Container>
        <Split>
            <h2 slot="heading">Car Photography FAQ</h2>
            <div slot="bottom" class="flex gap-4">
                <a href="/contact" class="button button-ghost text-lg">
                    Ask me a question
                </a>
                <a href="/contact" class="button button-primary text-lg">
                    Hire me!
                </a>
            </div>

            <div x-data={`{ selected: 0 }`} class="space-y-12">
                {
                    Faq.map((f, i) => (
                        <div class="space-y-6">
                            <div
                                x-on:click={`selected !== ${i} ? selected = ${i} : selected = null`}
                                class="flex justify-between items-center hover:cursor-pointer">
                                <h4>{f.heading}</h4>

                                <svg
                                    x-show={`selected !== ${i}`}
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke-width="1.5"
                                    stroke="currentColor"
                                    class="w-6 h-6 dark:text-neutral-200">
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        d="M12 4.5v15m7.5-7.5h-15"
                                    />
                                </svg>
                                <svg
                                    x-show={`selected == ${i}`}
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke-width="1.5"
                                    stroke="currentColor"
                                    class="w-6 h-6 dark:text-neutral-200">
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        d="M19.5 12h-15"
                                    />
                                </svg>
                            </div>

                            <div
                                set:html={f.description}
                                x-ref={`container${i}`}
                                x-bind:style={`selected == ${i} ? 'max-height: ' + $refs.container${i}.scrollHeight + 'px' : ''`}
                                class="text-neutral-800 dark:text-neutral-300 text-xl leading-8 overflow-hidden max-h-0 transition-all duration-300 space-y-6"
                            />
                        </div>
                    ))
                }
            </div>
        </Split>
    </Container>

    <Figure
        src="shoots/2022/2022-02-27-lit-show-day-four/lit-show-2022_049"
        figureClass="h-[75vh] w-full"
        class="w-full h-full object-cover"
        loading="eager"
        sizes="100vw"
    />

    <Container classes="pb-32 md:pb-48">
        <div class="mx-auto md:max-w-2xl lg:max-w-5xl space-y-8">
            <div
                class="dark:text-neutral-200 text-3xl lg:text-5xl italic leading-normal lg:leading-snug font-light">
                "{Testimonials[0].text}"
            </div>

            <div class="space-y-2">
                <div class="text-2xl font-semibold dark:text-neutral-100">
                    {Testimonials[0].name}
                </div>
                <div class="text-2xl dark:text-neutral-300">
                    {Testimonials[0].position}
                </div>
            </div>
        </div>
    </Container>
</Layout>
