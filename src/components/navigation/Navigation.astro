---
// components
import Container from "@/components/content/Container";
import Logo from "@/components/Logo";
import MobileNavigation from "@/components/navigation/MobileNavigation";
// data
import { Links } from "@/data/Navigation";
---

<header class="sticky top-0 z-50 transition-all duration-100 py-8 bg-white bg-opacity-95 backdrop-filter backdrop-blur-sm" id="navigation">
    <Container>
        <div class="flex justify-between">
            <Logo />

            <div class="flex items-center justify-end">
                <MobileNavigation classes="sm:hidden" />

                <nav class="hidden sm:flex items-center sm:gap-4 md:gap-6 lg:gap-10 text-neutral-900 md:text-lg">
                    {
                        Links.map((l) => {
                            if (l.submenu) {
                                return (
                                    <div x-data={`{ ${l.display} : true }`} x-on:mouseenter={`${l.display} = true`} x-on:mouseover.away={`${l.display} = false`} x-on:click.outside={`${l.display} = false`} class="relative">
                                        <a href={l.url} class="flex gap-1 items-center" x-on:mouseover={`${l.display} = true`}>
                                            {l.display}
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 transition duration-200" x-bind:class={`${l.display} && "rotate-180"`}>
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                            </svg>
                                        </a>

                                        <div
                                            class="absolute right-0 mt-2 z-10 flex shadow-2xl"
                                            x-cloak
                                            x-show={`${l.display}`}
                                            x-transition:enter="transition ease-out duration-300"
                                            x-transition:enter-start="opacity-0"
                                            x-transition:enter-end="opacity-100 scale-100"
                                            x-transition:leave="transition ease-in duration-200"
                                            x-transition:leave-start="opacity-100 scale-100"
                                            x-transition:leave-end="opacity-0">
                                            <div class="w-[325px] border border-neutral-600">
                                                <div class="divide-y divide-neutral-600">
                                                    {l.submenu.map((s) => (
                                                        <div class="group relative bg-neutral-50 hover:bg-neutral-100 py-4 px-6 transition duration-300">
                                                            <a href={s.url} class="text-base font-semibold text-neutral-900">
                                                                {s.title}
                                                                <span class="absolute inset-0" />
                                                            </a>
                                                            <p class="text-sm text-neutral-600">{s.description}</p>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                );
                            } else {
                                return (
                                    <a href={l.url} title={l.display}>
                                        {l.display}
                                    </a>
                                );
                            }
                        })
                    }
                </nav>
            </div>
        </div>
    </Container>
</header>
