---
// layout
import PageLayout from "@/layouts/PageLayout";

// components
import Block from "@/components/content/Block";
import Button from "@/components/Button";
import Container from "@/components/Container";
import Caption from "@/components/image/Caption";
import Link from "@/components/Link";
import RecentPost from "@/components/RecentPost";
import RecentShoot from "@/components/RecentShoot";
import { Image, Picture } from "@astrojs/image/components";

// functions
import { getImage } from "@/functions/Media";

// images
const headers = [
    await getImage("/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_017.jpeg"),
    await getImage("/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_016.jpeg"),
    await getImage("/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_010.jpeg"),
    await getImage("/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_014.jpeg"),
    await getImage("/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_013.jpeg"),
    await getImage("/shoots/2020/2020-02-27-lit-show-day-one/lit-show-2020_011.jpeg"),
];

const unsortedPosts = await Astro.glob("../pages/blog/*.mdx");
const posts = unsortedPosts
    .sort(function (a, b) {
        return new Date(b.date).valueOf() - new Date(a.date).valueOf();
    })
    .slice(0, 3);

const unsortedShoots = await Astro.glob("../pages/photography/*.mdx");
const shoots = unsortedShoots
    .sort(function (a, b) {
        return new Date(b.date).valueOf() - new Date(a.date).valueOf();
    })
    .slice(0, 4);
---

<PageLayout>
    <div>
        <div class="h-[400px] md:h-[600px] grid grid-cols-3 md:grid-cols-6">
            {headers.map((h) => <Image src={h.src} width={1000} height={1000} class="h-full w-full object-cover" alt={h.title} />)}
        </div>

        <div class="space-y-20 sm:space-y-40">
            <Container classes="relative -mt-52 bg-white py-20 rounded-tl-md rounded-tr-md">
                <div class="px-12">
                    <Block>
                        <h1 slot="left" class="font-black text-5xl tracking-tight lg:w-2/3">It's different working with me.</h1>

                        <div slot="right" class="text-xl font-light leading-relaxed tracking-wide space-y-8">
                            <p>
                                Lately, I've been shooting lots of cars for Bring a Trailer auctions. If you're in the Austin area and are interested
                                in having your car photographed for an online auction site, let's chat!
                            </p>
                            <p>
                                Lately, I've been shooting lots of cars for Bring a Trailer auctions. If you're in the Austin area and are interested
                                in having your car photographed for an online auction site, let's chat!
                            </p>

                            <div class="flex flex-col md:flex-row gap-3 md:gap-10">
                                <Link text="Hire Me!" url="/contact" />
                                <Link text="See More Photos" url="/photography" />
                            </div>
                        </div>
                    </Block>

                    <div class="grid sm:grid-cols-2 gap-10 lg:gap-20">
                        {shoots.map((p) => <RecentShoot shoot={p} />)}
                    </div>

                    <div class="flex justify-center">
                        <Button text="More Shoots" url="/photography" backgroundColor="bg-black" textColor="text-white" />
                    </div>
                </div>
            </Container>

            <div class="bg-stone-100 py-40">
                <Container classes="space-y-40">
                    <Block>
                        <h2 slot="top" class="font-black text-5xl tracking-tight">Digital Marketing</h2>

                        <div slot="left" class="text-xl font-light tracking-wide space-y-8">
                            <p class="text-xl leading-8">
                                Lately, I've been shooting lots of cars for Bring a Trailer auctions. If you're in the Austin area and are interested
                                in having your car photographed for an online auction site, let's chat!
                            </p>
                        </div>

                        <ul slot="right" class="text-2xl font-semibold space-y-5 justify-self-end">
                            <li class="flex flex-row gap-2"><span class="font-light">&check;</span>Search Engine Marketing</li>
                            <li class="flex flex-row gap-2"><span class="font-light">&check;</span>Email Marketing</li>
                            <li class="flex flex-row gap-2"><span class="font-light">&check;</span>Data Analytics</li>
                            <li class="flex flex-row gap-2"><span class="font-light">&check;</span>Conversion Rate Optimization</li>
                            <li class="flex flex-row gap-2"><span class="font-light">&check;</span>Programming</li>
                        </ul>
                    </Block>

                    <div class="grid sm:grid-cols-1 gap-20 lg:grid-cols-3">
                        {posts.map((p) => <RecentPost post={p} />)}
                    </div>

                    <div class="flex justify-center">
                        <Button text="More Posts" url="/blog" backgroundColor="bg-black" textColor="text-white" />
                    </div>
                </Container>
            </div>
        </div>
    </div>
</PageLayout>
