---
import { getCollection } from "astro:content";

// const media = async function () {
// 	let allMedia = [];
// 	let skip = 0;
// 	const limit = 100;
// 	let hasMore = true;

// 	while (hasMore) {
// 		try {
// 			const response = await cosmic.media.find().props("url").limit(limit).skip(skip);

// 			allMedia = allMedia.concat(response.media);

// 			// Check if there are more items to fetch
// 			if (response.media.length < limit) {
// 				hasMore = false;
// 			} else {
// 				skip += limit;
// 			}
// 		} catch (error) {
// 			console.error("Error fetching media:", error);
// 			hasMore = false;
// 		}
// 	}

// 	return allMedia;
// };

// console.log(await media);

// getAllMedia()
// 	.then((media) => {
// 		console.log("All media:", media);
// 		console.log("Total media items:", media.length);
// 	})
// 	.catch((error) => {
// 		console.error("Error:", error);
// 	});
---
